<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–ú–æ–π —Å–∞–π—Ç</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  /* –≤–∞—à CSS –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
  body {
    background-color: #000;
    color: #fff;
    margin: 0;
    padding-bottom: 80px;
    font-family: 'Inter', Arial, sans-serif;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    overflow: hidden;
  }

  .hearts-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
  }

  .heart-emoji {
    position: absolute;
    bottom: 0;
    font-size: 2vw;
    opacity: 0.8;
    animation: floatUp 5s linear forwards;
    transform: translateY(0);
  }

  @keyframes floatUp {
    0% {
      transform: translateY(0) scale(1);
      opacity: 0.8;
    }
    100% {
      transform: translateY(-110vh) scale(0.5);
      opacity: 0;
    }
  }

  .balance {
    position: absolute;
    top: 2vh;
    left: 2vw;
    background: rgba(34, 34, 34, 0.8);
    padding: 1vh 2vw;
    border-radius: 8px;
    font-size: 2vh;
    font-weight: 600;
    box-shadow: 0 0 1vh rgba(0,0,0,0.5);
    z-index: 1;
    font-family: 'Inter', sans-serif;
  }

  #content {
    margin-top: 25vh;
    width: 80%;
    max-width: 600px;
    text-align: center;
    z-index: 2;
    position: relative;
  }

  /* –§–æ—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ */
  .profile-container {
    cursor: pointer;
  }

  .profile-circle {
    width: 30vw;
    height: 30vw;
    max-width: 200px;
    max-height: 200px;
    border-radius: 50%;
    overflow: hidden;
    border: 3px solid #fff;
    box-shadow: 0 0 1vh rgba(255,255,255,0.3);
    transition: transform 0.2s ease;
    margin: 0 auto;
  }

  .profile-circle img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }

  h1 {
    font-size: 3vh;
    margin-top: 2vh;
    font-weight: 600;
    color: #fff;
  }

  p {
    font-size: 2.5vh;
    margin-top: 2vh;
    color: #ccc;
  }

  /* –ú–µ–Ω—é */
  .menu {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: linear-gradient(to top, #111, #222);
    display: flex;
    justify-content: space-around;
    padding: 1vh 0;
    box-shadow: 0 -0.5vh 1vh rgba(0,0,0,0.7);
    backdrop-filter: blur(5px);
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    z-index: 100;
    font-family: 'Inter', sans-serif;
  }

  .menu-item {
    flex: 1;
    text-align: center;
    color: #fff;
    text-decoration: none;
    padding: 1vh 0;
    transition: background 0.3s, transform 0.2s;
    outline: none;
    font-weight: 600;
    font-size: 2.2vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    margin: 0 4px;
    cursor: pointer;
  }

  .menu-item:hover,
  .menu-item:focus,
  .menu-item:active {
    background: linear-gradient(to top, #333, #555);
    transform: translateY(-2px);
  }

  .icon {
    font-size: 4vh;
    margin-bottom: 0.5vh;
  }

  .label {
    font-size: 2vh;
  }

  #startMusicBtn {
    position: fixed;
    top: 1vh;
    right: 1vw;
    z-index: 10;
    padding: 1vh 2vw;
    background: #444;
    color: #fff;
    border: none;
    border-radius: 0.5vh;
    cursor: pointer;
    font-size: 2vh;
  }

  /* –°—Ç–∏–ª—å –±–ª–æ–∫–∞ –≤—ã–≤–æ–¥–∞ */
  .withdraw-section {
    background: linear-gradient(135deg, #222, #444);
    border-radius: 10px;
    padding: 2vh 3vw;
    margin-top: 3vh;
    box-shadow: 0 0 1vh rgba(0,0,0,0.5);
    max-width: 90%;
    margin-left: auto;
    margin-right: auto;
    font-family: 'Inter', sans-serif;
  }

  .withdraw-title {
    font-size: 3vh;
    margin-bottom: 2vh;
    color: #fff;
    text-align: center;
    font-weight: 600;
  }

  /* –°—Ç—Ä–æ–∫–∞ —Å—É–º–º—ã */
  .amount-row {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 2vh;
  }

  .amount-label {
    font-size: 2.2vh;
    margin-right: 1vw;
  }

  .amount-input {
    font-size: 2.2vh;
    padding: 0.5vh 1vw;
    border-radius: 0.5vh;
    border: none;
    outline: none;
    width: 20vw;
    max-width: 150px;
    background: #555;
    color: #fff;
  }

  /* –†–µ–∫–≤–∏–∑–∏—Ç—ã */
  .requisites-container {
    display: none;
    margin-top: 2vh;
  }

  .requisites-input {
    width: 100%;
    padding: 0.5vh 1vw;
    font-size: 2vh;
    border-radius: 0.5vh;
    border: none;
    outline: none;
    background: #555;
    color: #fff;
  }

  /* –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã */
  .payment-options {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 1.5vw;
    margin-top: 2vh;
  }

  .payment-card {
    background: #555;
    padding: 1.5vh 2vw;
    border-radius: 8px;
    cursor: pointer;
    font-size: 2vh;
    min-width: 80px;
    text-align: center;
    transition: background 0.3s, transform 0.2s, border 0.3s;
    border: 2px solid transparent;
  }

  .payment-card:hover,
  .payment-card:focus {
    background: #777;
    transform: translateY(-2px);
  }

  /* –í—ã–≤–æ–¥ */
  .withdraw-submit {
    display: block;
    margin: 4vh auto 0 auto;
    padding: 1.5vh 4vw;
    background-color: #4CAF50;
    color: white;
    font-size: 2vh;
    border: none;
    border-radius: 0.5vh;
    cursor: pointer;
    transition: background 0.3s;
  }

  .withdraw-submit:hover {
    background-color: #45a049;
  }

  /* –í–µ—Ä—Ö–Ω–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
  #topNotification {
    position: fixed;
    top: -50px;
    left: 50%;
    transform: translateX(-50%);
    background: #f44336; /* –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è –æ—à–∏–±–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
    padding: 1vh 3vw;
    border-radius: 1vh;
    color: #fff;
    font-size: 2vh;
    opacity: 0;
    transition: opacity 0.5s, top 0.5s;
    z-index: 200;
    max-width: 80%;
    text-align: center;
  }
  #topNotification.show {
    top: 20px;
    opacity: 1;
  }
  /* –ó–µ–ª–µ–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —É—Å–ø–µ—Ö–∞ */
  #topNotification.success {
    background: #4CAF50;
  }

  /* –°—Ç–∏–ª—å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ */
  .status {
    display: inline-block;
    padding: 0.2em 0.5em;
    border-radius: 0.3em;
    font-size: 1.8vh;
    margin-left: 1vh;
    font-weight: 600;
  }
  .status.processing {
    background-color: #ff9800;
    color: #fff;
  }
  .status.paid {
    background-color: #4CAF50;
    color: #fff;
  }

  /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
  @media(max-width: 600px){
    body { font-size: 2.2vh; }
    .balance { font-size: 2vh; }
    #content { margin-top: 20vh; }
  }
</style>
</head>
<body>

<div class="hearts-background" id="heartsBackground"></div>
<div class="balance" id="balance">–í–∞—à –±–∞–ª–∞–Ω—Å: 0</div>
<div id="content"></div>
<div class="profile-container" id="profileContainer" style="display: none;">
  <div class="profile-circle" id="profileCircle">
    <img src="kat.jpg" alt="–ú–æ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è" />
  </div>
</div>
<h1 id="mainTitle">–í—ã—Ö–æ–¥–∏ –∑–∞ –º–µ–Ω—è –ö–∞—Ç—è!!!</h1>
<p id="mainParagraph"></p>
<div class="menu">
  <a href="#" class="menu-item" data-page="main">
    <div class="icon">üè†</div>
    <div class="label">–ì–ª–∞–≤–Ω–∞—è</div>
  </a>
  <a href="#" class="menu-item" data-page="withdraw">
    <div class="icon">üí∞</div>
    <div class="label">–í—ã–≤–æ–¥</div>
  </a>
  <a href="#" class="menu-item" data-page="history">
    <div class="icon">üìú</div>
    <div class="label">–ò—Å—Ç–æ—Ä–∏—è</div>
  </a>
  <a href="#" class="menu-item" data-page="help">
    <div class="icon">‚ùì</div>
    <div class="label">–ü–æ–º–æ—â—å</div>
  </a>
</div>

<!-- –í–µ—Ä—Ö–Ω–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
<div id="topNotification"></div>

<script>
  // --- –í–ê–® –°–ö–†–ò–ü–¢ --- –ù–∞—á–∏–Ω–∞—é –≤—Å—Ç–∞–≤–∫—É
  const historyItems = [];

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ localStorage
  const savedHistory = localStorage.getItem('withdrawHistory');
  if (savedHistory) {
    // –≤—Å—Ç–∞–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
    historyItems.splice(0, historyItems.length, ...JSON.parse(savedHistory));
  }

  // –û—Å—Ç–∞–ª—å–Ω–æ–π –≤–∞—à –∫–æ–¥
  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart-emoji';
    heart.style.left = Math.random() * 100 + '%';
    heart.textContent = '‚ù§Ô∏è';
    document.getElementById('heartsBackground').appendChild(heart);
    heart.addEventListener('animationend', () => { heart.remove(); });
  }
  setInterval(createHeart, 300);

  document.addEventListener('DOMContentLoaded', () => {
    const profileContainer = document.getElementById('profileContainer');
    const profileCircle = document.getElementById('profileCircle');
    if (profileContainer && profileCircle) {
      profileContainer.addEventListener('click', () => {
        profileCircle.style.transform = 'scale(1.1)';
        setTimeout(() => { profileCircle.style.transform = 'scale(1)'; }, 200);
      });
    }
  });

  const contentDiv = document.getElementById('content');
  const mainTitle = document.getElementById('mainTitle');
  const mainParagraph = document.getElementById('mainParagraph');

  const pages = {
    main: `<h1>–í—ã—Ö–æ–¥–∏ –∑–∞ –º–µ–Ω—è ))))</h1><p></p>`,
    withdraw: `
      <div class="withdraw-section">
        <div class="withdraw-title">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</div>
        <div class="amount-row">
          <label class="amount-label" for="amount">–°—É–º–º–∞:</label>
          <input type="number" id="amount" class="amount-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" />
        </div>
        <div class="payment-options" id="paymentOptions">
          <div class="payment-card" data-payment="QIWI">QIWI</div>
          <div class="payment-card" data-payment="WebMoney">WebMoney</div>
          <div class="payment-card" data-payment="–ö–∞—Ä—Ç–∞">–ö–∞—Ä—Ç–∞</div>
        </div>
        <div class="requisites-container" id="requisitesContainer">
          <label for="requisitesInput">–†–µ–∫–≤–∏–∑–∏—Ç—ã:</label>
          <input type="text" id="requisitesInput" class="requisites-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã" />
        </div>
        <button class="withdraw-submit" onclick="submitWithdrawal()">–í—ã–≤–µ—Å—Ç–∏</button>
      </div>
    `,
    history: `<h1>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h1><div id="historyList"></div>`,
    help: `<h1>–ü–æ–º–æ—â—å</h1><p>–ó–¥–µ—Å—å FAQ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.</p>`
  };

  let selectedPayment = null;

  // –í–≤–µ–¥–∏—Ç–µ —Å—é–¥–∞ –≤–∞—à Telegram —Ç–æ–∫–µ–Ω –∏ —á–∞—Ç ID
  const telegramToken = '8324358831:AAGNLTEteXzAmdyv58U0e4OmTEo2tFZfYQA'; // –≤—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞
  const telegramChatId = '-4704370493'; // –≤—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞

  async function sendTelegramNotification(text) {
    const url = `https://api.telegram.org/bot${telegramToken}/sendMessage`;
    await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ chat_id: telegramChatId, text: text })
    });
  }

  function loadPage(page) {
    if (page === 'main') {
      mainTitle.style.display = 'block';
      mainParagraph.style.display = 'block';
    } else {
      mainTitle.style.display = 'none';
      mainParagraph.style.display = 'none';
    }

    contentDiv.innerHTML = pages[page] || `<h1>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h1>`;
    if (page === 'main') {
      document.getElementById('profileContainer').style.display = 'block';
    } else {
      document.getElementById('profileContainer').style.display = 'none';
    }

    if (page === 'withdraw') {
      document.querySelectorAll('.payment-card').forEach(card => {
        card.onclick = () => {
          document.querySelectorAll('.payment-card').forEach(c => c.style.borderColor = '');
          card.style.borderColor = '#4CAF50';
          selectedPayment = card.dataset.payment;
          if (selectedPayment === '–ö–∞—Ä—Ç–∞') {
            document.getElementById('requisitesContainer').style.display = 'block';
            document.getElementById('requisitesInput').placeholder = '–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã';
          } else if (selectedPayment === 'QIWI') {
            document.getElementById('requisitesContainer').style.display = 'block';
            document.getElementById('requisitesInput').placeholder = '–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä QIWI –∫–æ—à–µ–ª—å–∫–∞';
          } else if (selectedPayment === 'WebMoney') {
            document.getElementById('requisitesContainer').style.display = 'block';
            document.getElementById('requisitesInput').placeholder = '–í–≤–µ–¥–∏—Ç–µ WebMoney ID';
          } else {
            document.getElementById('requisitesContainer').style.display = 'none';
          }
        }
      });
    }
    if (page === 'history') {
      updateHistory();
    }
  }

  function showTopNotification(message, isSuccess = false) {
    const notif = document.getElementById('topNotification');
    notif.textContent = message;
    notif.className = 'show' + (isSuccess ? ' success' : '');
    setTimeout(() => {
      notif.className = '';
    }, 3000);
  }

  async function submitWithdrawal() {
    const amount = document.getElementById('amount').value.trim();
    const requisites = document.getElementById('requisitesInput').value.trim();

    if (!amount || !selectedPayment || (['–ö–∞—Ä—Ç–∞','QIWI','WebMoney'].includes(selectedPayment) && !requisites)) {
      if (!amount && !requisites) {
        showTopNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Å—É–º–º—É –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã');
      } else if (!amount) {
        showTopNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Å—É–º–º—É');
      } else if (['–ö–∞—Ä—Ç–∞','QIWI','WebMoney'].includes(selectedPayment) && !requisites) {
        showTopNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã');
      }
      return;
    }

    const now = new Date().toLocaleString();
    const newItem = {
      date: now,
      amount: amount,
      payment: selectedPayment,
      requisites: requisites,
      status: '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ'
    };
    // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞—è–≤–∫—É –≤ –º–∞—Å—Å–∏–≤
    historyItems.push(newItem);
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏
    updateHistory();
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
    localStorage.setItem('withdrawHistory', JSON.stringify(historyItems));

    // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
    const message = `–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞:\n–î–∞—Ç–∞: ${now}\n–°—É–º–º–∞: ${amount}\n–ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: ${selectedPayment}\n–†–µ–∫–≤–∏–∑–∏—Ç—ã: ${requisites}`;
    sendTelegramNotification(message);

    showTopNotification('–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å–æ–∑–¥–∞–Ω–∞', true);

    document.getElementById('amount').value = '';
    document.getElementById('requisitesInput').value = '';
    document.querySelectorAll('.payment-card').forEach(c => c.style.borderColor = '');
    selectedPayment = null;
  }

  function updateHistory() {
    const historyDiv = document.getElementById('historyList');
    if (!historyDiv) return;
    historyDiv.innerHTML = '';
    if (historyItems.length === 0) {
      historyDiv.innerHTML = '<p style="color:#aaa;font-size:2vh;">–ù–µ—Ç –∑–∞—è–≤–æ–∫</p>';
      return;
    }
    for (const item of historyItems) {
      const div = document.createElement('div');
      div.style.borderBottom = '1px solid #555';
      div.style.padding = '0.5vh 0';
      div.style.fontSize = '2vh';
      div.style.color = '#ddd';
      div.innerHTML = `<strong>${item.date}</strong>: ${item.amount} ‚Äî ${item.payment} (${item.requisites})` +
        `<span class="status ${item.status === '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ' ? 'processing' : 'paid'}">${item.status}</span>`;
      div.style.background = 'rgba(255,255,255,0.05)';
      div.style.borderRadius = '4px';
      div.style.margin = '0.5vh 0';
      historyDiv.appendChild(div);
    }
  }

  function markAsPaid(index) {
    if (historyItems[index]) {
      historyItems[index].status = '–í—ã–ø–ª–∞—á–µ–Ω–æ';
      // –û–±–Ω–æ–≤–ª—è–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
      updateHistory();
      localStorage.setItem('withdrawHistory', JSON.stringify(historyItems));
    }
  }

  document.querySelector('.menu').addEventListener('click', (e) => {
    const menuItem = e.target.closest('.menu-item');
    if (menuItem) {
      e.preventDefault();
      loadPage(menuItem.dataset.page);
    }
  });

  // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  loadPage('main');
  updateHistory();
</script>

<!-- –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
<script src="payment.js"></script>
<script src="gameData.js"></script>

</body>
</html>
